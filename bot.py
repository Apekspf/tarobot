import telebot
import random
import schedule
import threading
import time

from telebot.types import ReplyKeyboardMarkup, KeyboardButton
from datetime import datetime, date
user_last_day = {}  # {user_id: –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–∞—Ä—Ç—ã –¥–Ω—è}

# ‚Üê‚Üê‚Üê –í–°–¢–ê–í–¨ –°–í–û–ô –¢–û–ö–ï–ù –°–Æ–î–ê –≤–º–µ—Å—Ç–æ –∑–≤—ë–∑–¥–æ—á–µ–∫
TOKEN = '8333752280:AAExB5U-_ygTlDD_GxvW_PwWAQmBg_7zib8'

bot = telebot.TeleBot(TOKEN)

cards = [
    {"name": "<b>0 ‚Äî –®—É—Ç (–î—É—Ä–∞–∫)</b>", "upright": "–ù–æ–≤—ã–µ –Ω–∞—á–∞–ª–∞, —Å–≤–æ–±–æ–¥–∞, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫, —á–∏—Å—Ç—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª", "reversed": "–ë–µ–∑—Ä–∞—Å—Å—É–¥—Å—Ç–≤–æ, —Ö–∞–æ—Å, –Ω–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —É–ø—É—â–µ–Ω–Ω—ã–µ —à–∞–Ω—Å—ã"},
    {"name": "<b>I ‚Äî –ú–∞–≥</b>", "upright": "–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, –≤–æ–ª—è, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ—è–≤–ª–µ–Ω–∏–µ –∏–¥–µ–π, —Ç–∞–ª–∞–Ω—Ç", "reversed": "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è, —Å–ª–∞–±–∞—è –≤–æ–ª—è, –æ–±–º–∞–Ω, –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª"},
    {"name": "<b>II ‚Äî –í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞</b>", "upright": "–ò–Ω—Ç—É–∏—Ü–∏—è, —Ç–∞–π–Ω–∞, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≥–æ–ª–æ—Å, —Å–∫—Ä—ã—Ç—ã–µ –∑–Ω–∞–Ω–∏—è", "reversed": "–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç—É–∏—Ü–∏–∏, —Å–µ–∫—Ä–µ—Ç—ã, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞"},
    {"name": "<b>III ‚Äî –ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞</b>", "upright": "–ò–∑–æ–±–∏–ª–∏–µ, –ø–ª–æ–¥–æ—Ä–æ–¥–∏–µ, –∑–∞–±–æ—Ç–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –∂–µ–Ω—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è", "reversed": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –±–ª–æ–∫, –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–∞—è –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥"},
    {"name": "<b>IV ‚Äî –ò–º–ø–µ—Ä–∞—Ç–æ—Ä</b>", "upright": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤–ª–∞—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å", "reversed": "–¢–∏—Ä–∞–Ω–∏—è, –∂—ë—Å—Ç–∫–æ—Å—Ç—å, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏, —Å–ª–∞–±—ã–π –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç"},
    {"name": "<b>V ‚Äî –ò–µ—Ä–æ—Ñ–∞–Ω—Ç (–ñ—Ä–µ—Ü)</b>", "upright": "–¢—Ä–∞–¥–∏—Ü–∏–∏, –æ–±—É—á–µ–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –º–æ—Ä–∞–ª—å, –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã", "reversed": "–ë—É–Ω—Ç –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–∞–¥–∏—Ü–∏–π, –¥–æ–≥–º–∞—Ç–∏–∑–º, –ª–æ–∂–Ω—ã–π —É—á–∏—Ç–µ–ª—å"},
    {"name": "<b>VI ‚Äî –í–ª—é–±–ª—ë–Ω–Ω—ã–µ</b>", "upright": "–í—ã–±–æ—Ä, –≥–∞—Ä–º–æ–Ω–∏—è, –ª—é–±–æ–≤—å, –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, –≤–∞–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ", "reversed": "–î–∏—Å–≥–∞—Ä–º–æ–Ω–∏—è, –Ω–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, —Ä–∞–∑—Ä—ã–≤, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö"},
    {"name": "<b>VII ‚Äî –ö–æ–ª–µ—Å–Ω–∏—Ü–∞</b>", "upright": "–ü–æ–±–µ–¥–∞, –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä—ë–¥, –≤–æ–ª—è, –∫–æ–Ω—Ç—Ä–æ–ª—å, —É—Å–ø–µ—Ö", "reversed": "–ü–æ—Ç–µ—Ä—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∞–≥—Ä–µ—Å—Å–∏—è, –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, –ø–æ—Ä–∞–∂–µ–Ω–∏–µ"},
    {"name": "<b>VIII ‚Äî –°–∏–ª–∞</b>", "upright": "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –º—è–≥–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ, —Å–º–µ–ª–æ—Å—Ç—å", "reversed": "–°–ª–∞–±–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ö, –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏—è, –ø–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç—Ä–æ–ª—è"},
    {"name": "<b>IX ‚Äî –û—Ç—à–µ–ª—å–Ω–∏–∫</b>", "upright": "–ü–æ–∏—Å–∫ –∏—Å—Ç–∏–Ω—ã, –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ, –º—É–¥—Ä–æ—Å—Ç—å, —Å–∞–º–æ–∞–Ω–∞–ª–∏–∑", "reversed": "–ò–∑–æ–ª—è—Ü–∏—è, –¥–µ–ø—Ä–µ—Å—Å–∏—è, –æ—Ç–∫–∞–∑ –æ—Ç –ø–æ–º–æ—â–∏, –∑–∞–º–∫–Ω—É—Ç–æ—Å—Ç—å"},
    {"name": "<b>X ‚Äî –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</b>", "upright": "–ò–∑–º–µ–Ω–µ–Ω–∏—è, —É–¥–∞—á–∞, —Ü–∏–∫–ª—ã, —Å—É–¥—å–±–∞, –ø–æ–≤–æ—Ä–æ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç", "reversed": "–ù–µ—É–¥–∞—á–∞, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–∞–º, –∑–∞—Å—Ç–æ–π"},
    {"name": "<b>XI ‚Äî –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å</b>", "upright": "–ü—Ä–∞–≤–¥–∞, —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –∫–∞—Ä–º–∞, —á–µ—Å—Ç–Ω–æ—Å—Ç—å, —Ä–µ—à–µ–Ω–∏–µ", "reversed": "–ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, —É–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –æ–±–º–∞–Ω"},
    {"name": "<b>XII ‚Äî –ü–æ–≤–µ—à–µ–Ω–Ω—ã–π</b>", "upright": "–ñ–µ—Ä—Ç–≤–∞, –Ω–æ–≤—ã–π –≤–∑–≥–ª—è–¥, –ø–∞—É–∑–∞, –ø—Ä–∏–Ω—è—Ç–∏–µ, –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ", "reversed": "–ó–∞—Å—Ç–æ–π, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ, –∂–µ—Ä—Ç–≤–∞ –∑—Ä—è, –¥–µ–ø—Ä–µ—Å—Å–∏—è"},
    {"name": "<b>XIII ‚Äî –°–º–µ—Ä—Ç—å</b>", "upright": "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞, –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ, –æ—Ç–ø—É—Å–∫–∞–Ω–∏–µ", "reversed": "–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –∑–∞—Å—Ç–æ–π, —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω"},
    {"name": "<b>XIV ‚Äî –£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</b>", "upright": "–ë–∞–ª–∞–Ω—Å, –≥–∞—Ä–º–æ–Ω–∏—è, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, –∞–ª—Ö–∏–º–∏—è", "reversed": "–î–∏—Å–±–∞–ª–∞–Ω—Å, –∫—Ä–∞–π–Ω–æ—Å—Ç–∏, –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ, –∫–æ–Ω—Ñ–ª–∏–∫—Ç"},
    {"name": "<b>XV ‚Äî –î—å—è–≤–æ–ª</b>", "upright": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –∏–ª–ª—é–∑–∏–∏, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–º, —Å—Ç—Ä–∞—Å—Ç—å, —Ü–µ–ø–∏", "reversed": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –æ—Å–æ–∑–Ω–∞–Ω–∏–µ, –≤—ã—Ö–æ–¥ –∏–∑ –ª–æ–≤—É—à–∫–∏"},
    {"name": "<b>XVI ‚Äî –ë–∞—à–Ω—è</b>", "upright": "–í–Ω–µ–∑–∞–ø–Ω–æ–µ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ, —à–æ–∫, –ø—Ä–æ–∑—Ä–µ–Ω–∏–µ, –∫—Ä–∞—Ö –∏–ª–ª—é–∑–∏–π", "reversed": "–ò–∑–±–µ–∂–∞–Ω–∏–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω"},
    {"name": "<b>XVII ‚Äî –ó–≤–µ–∑–¥–∞</b>", "upright": "–ù–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –∏—Å—Ü–µ–ª–µ–Ω–∏–µ, –≤–µ—Ä–∞, –æ–ø—Ç–∏–º–∏–∑–º", "reversed": "–ü–æ—Ç–µ—Ä—è –≤–µ—Ä—ã, —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è"},
    {"name": "<b>XVIII ‚Äî –õ—É–Ω–∞</b>", "upright": "–ò–ª–ª—é–∑–∏–∏, —Å—Ç—Ä–∞—Ö–∏, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ, –æ–±–º–∞–Ω, –∏–Ω—Ç—É–∏—Ü–∏—è", "reversed": "–Ø—Å–Ω–æ—Å—Ç—å, –≤—ã—Ö–æ–¥ –∏–∑ –æ–±–º–∞–Ω–∞, –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö–æ–≤"},
    {"name": "<b>XIX ‚Äî –°–æ–ª–Ω—Ü–µ</b>", "upright": "–†–∞–¥–æ—Å—Ç—å, —É—Å–ø–µ—Ö, —è—Å–Ω–æ—Å—Ç—å, —ç–Ω–µ—Ä–≥–∏—è, —Å—á–∞—Å—Ç—å–µ", "reversed": "–í—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–∞—Ç–º–µ–Ω–∏–µ, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —ç–≥–æ–∏–∑–º"},
    {"name": "<b>XX ‚Äî –°—É–¥</b>", "upright": "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ, –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ, –ø—Ä–æ—â–µ–Ω–∏–µ, –ø—Ä–∏–∑–≤–∞–Ω–∏–µ", "reversed": "–°–∞–º–æ–æ—Å—É–∂–¥–µ–Ω–∏–µ, –æ—Ç–∫–∞–∑ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∑–∞—Å—Ç–æ–π"},
    {"name": "<b>XXI ‚Äî –ú–∏—Ä</b>", "upright": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –≥–∞—Ä–º–æ–Ω–∏—è, –ø–æ–±–µ–¥–∞, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ", "reversed": "–ù–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç—å, –∑–∞–¥–µ—Ä–∂–∫–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"},

    # –ñ–µ–∑–ª—ã
    {"name": "<b>–¢—É–∑ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ, —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è", "reversed": "–ó–∞–¥–µ—Ä–∂–∫–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ—Ç–∏–≤–∞—Ü–∏–∏"},
    {"name": "<b>–î–≤–æ–π–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—ã–±–æ—Ä –ø—É—Ç–∏, –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏", "reversed": "–°—Ç—Ä–∞—Ö –ø–µ—Ä–µ–¥ –±—É–¥—É—â–∏–º, –Ω–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"},
    {"name": "<b>–¢—Ä–æ–π–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –¥–∞–ª—å–Ω–∏–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã", "reversed": "–ó–∞–¥–µ—Ä–∂–∫–∏, —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–ª–∞–Ω–∞—Ö"},
    {"name": "<b>–ß–µ—Ç–≤—ë—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ü—Ä–∞–∑–¥–Ω–∏–∫, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–æ–º–∞, –≥–∞—Ä–º–æ–Ω–∏—è", "reversed": "–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –¥–æ–º–µ, —Ä–∞–∑–ª–∞–¥"},
    {"name": "<b>–ü—è—Ç—ë—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è, –±–æ—Ä—å–±–∞, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–¥–µ–π", "reversed": "–ò–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–ø–æ—Ä–∞"},
    {"name": "<b>–®–µ—Å—Ç—ë—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ü–æ–±–µ–¥–∞, –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ, —É—Å–ø–µ—Ö", "reversed": "–≠–≥–æ–∏–∑–º, –ª–æ–∂–Ω–∞—è –ø–æ–±–µ–¥–∞"},
    {"name": "<b>–°–µ–º—ë—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ó–∞—â–∏—Ç–∞ –ø–æ–∑–∏—Ü–∏–∏, —Å—Ç–æ–π–∫–æ—Å—Ç—å", "reversed": "–ü–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞ —Å–∏–ª, –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ"},
    {"name": "<b>–í–æ—Å—å–º—ë—Ä–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–°–∫–æ—Ä–æ—Å—Ç—å, –±—ã—Å—Ç—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏, –¥–≤–∏–∂–µ–Ω–∏–µ", "reversed": "–ó–∞–¥–µ—Ä–∂–∫–∏, —Ö–∞–æ—Å –≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏"},
    {"name": "<b>–î–µ–≤—è—Ç–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å, –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –±–∏—Ç–≤", "reversed": "–ü–∞—Ä–∞–Ω–æ–π—è, –∏—Å—Ç–æ—â–µ–Ω–∏–µ"},
    {"name": "<b>–î–µ—Å—è—Ç–∫–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞, —Ç—è–∂—ë–ª–∞—è –Ω–æ—à–∞", "reversed": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –±—Ä–µ–º–µ–Ω–∏"},
    {"name": "<b>–ü–∞–∂ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–≠–Ω—Ç—É–∑–∏–∞–∑–º, –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —é–Ω—ã–π –∏—Å–∫–∞—Ç–µ–ª—å", "reversed": "–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å, –ø–ª–æ—Ö–∏–µ –Ω–æ–≤–æ—Å—Ç–∏"},
    {"name": "<b>–†—ã—Ü–∞—Ä—å –ñ–µ–∑–ª–æ–≤</b>", "upright": "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ, —Å—Ç—Ä–∞—Å—Ç—å, –∏–º–ø—É–ª—å—Å", "reversed": "–ë–µ–∑—Ä–∞—Å—Å—É–¥—Å—Ç–≤–æ, –≥–Ω–µ–≤"},
    {"name": "<b>–ö–æ—Ä–æ–ª–µ–≤–∞ –ñ–µ–∑–ª–æ–≤</b>", "upright": "–•–∞—Ä–∏–∑–º–∞, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è –∂–µ–Ω—â–∏–Ω–∞", "reversed": "–†–µ–≤–Ω–æ—Å—Ç—å, —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å"},
    {"name": "<b>–ö–æ—Ä–æ–ª—å –ñ–µ–∑–ª–æ–≤</b>", "upright": "–õ–∏–¥–µ—Ä, –≤–∏–∑–∏–æ–Ω–µ—Ä, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å", "reversed": "–ò–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å, –¥–µ—Å–ø–æ—Ç–∏–∑–º"},

    # –ö—É–±–∫–∏
    {"name": "<b>–¢—É–∑ –ö—É–±–∫–æ–≤</b>", "upright": "–ù–æ–≤–∞—è –ª—é–±–æ–≤—å, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –Ω–∞—á–∞–ª–æ", "reversed": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, —Ä–∞–∑–±–∏—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ"},
    {"name": "<b>–î–≤–æ–π–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, –≤–∑–∞–∏–º–Ω–∞—è –ª—é–±–æ–≤—å", "reversed": "–î–∏—Å–≥–∞—Ä–º–æ–Ω–∏—è, —Ä–∞–∑—Ä—ã–≤"},
    {"name": "<b>–¢—Ä–æ–π–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–î—Ä—É–∂–±–∞, –ø—Ä–∞–∑–¥–Ω–∏–∫, —Å–æ–æ–±—â–µ—Å—Ç–≤–æ", "reversed": "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ —Å—Ä–µ–¥–∏ –¥—Ä—É–∑–µ–π, –∏–∑–ª–∏—à–µ—Å—Ç–≤–∞"},
    {"name": "<b>–ß–µ—Ç–≤—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–ê–ø–∞—Ç–∏—è, –∏–≥–Ω–æ—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π", "reversed": "–ü—Ä–∏–Ω—è—Ç–∏–µ —à–∞–Ω—Å–∞, –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ"},
    {"name": "<b>–ü—è—Ç—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–£—Ç—Ä–∞—Ç–∞, —Å–æ–∂–∞–ª–µ–Ω–∏–µ", "reversed": "–ü—Ä–æ—â–µ–Ω–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä—ë–¥"},
    {"name": "<b>–®–µ—Å—Ç—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–ù–æ—Å—Ç–∞–ª—å–≥–∏—è, –¥–æ–±—Ä—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è", "reversed": "–ó–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º"},
    {"name": "<b>–°–µ–º—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–ò–ª–ª—é–∑–∏–∏, –≤—ã–±–æ—Ä, —Ñ–∞–Ω—Ç–∞–∑–∏–∏", "reversed": "–Ø—Å–Ω–æ—Å—Ç—å, –æ—Ç–∫–∞–∑ –æ—Ç –∏–ª–ª—é–∑–∏–π"},
    {"name": "<b>–í–æ—Å—å–º—ë—Ä–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–£—Ö–æ–¥, –ø–æ–∏—Å–∫ —Å–º—ã—Å–ª–∞", "reversed": "–°—Ç—Ä–∞—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ"},
    {"name": "<b>–î–µ–≤—è—Ç–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∂–µ–ª–∞–Ω–∏–π", "reversed": "–°–∞–º–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ, –∂–∞–¥–Ω–æ—Å—Ç—å"},
    {"name": "<b>–î–µ—Å—è—Ç–∫–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–°–µ–º–µ–π–Ω–æ–µ —Å—á–∞—Å—Ç—å–µ, –≥–∞—Ä–º–æ–Ω–∏—è", "reversed": "–†–∞–∑–ª–∞–¥ –≤ —Å–µ–º—å–µ"},
    {"name": "<b>–ü–∞–∂ –ö—É–±–∫–æ–≤</b>", "upright": "–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ–≤–æ–µ —á—É–≤—Å—Ç–≤–æ", "reversed": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–µ–∑—Ä–µ–ª–æ—Å—Ç—å"},
    {"name": "<b>–†—ã—Ü–∞—Ä—å –ö—É–±–∫–æ–≤</b>", "upright": "–†–æ–º–∞–Ω—Ç–∏–∫, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ –ª—é–±–æ–≤—å", "reversed": "–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –æ–±–º–∞–Ω"},
    {"name": "<b>–ö–æ—Ä–æ–ª–µ–≤–∞ –ö—É–±–∫–æ–≤</b>", "upright": "–≠–º–ø–∞—Ç–∏—è, –∏–Ω—Ç—É–∏—Ü–∏—è, –∑–∞–±–æ—Ç–ª–∏–≤–∞—è –∂–µ–Ω—â–∏–Ω–∞", "reversed": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è"},
    {"name": "<b>–ö–æ—Ä–æ–ª—å –ö—É–±–∫–æ–≤</b>", "upright": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞", "reversed": "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è —ç–º–æ—Ü–∏—è–º–∏"},

    # –ú–µ—á–∏
    {"name": "<b>–¢—É–∑ –ú–µ—á–µ–π</b>", "upright": "–Ø—Å–Ω–æ—Å—Ç—å –º—ã—Å–ª–∏, –ø—Ä–æ—Ä—ã–≤", "reversed": "–ü—É—Ç–∞–Ω–∏—Ü–∞, –∂–µ—Å—Ç–æ–∫–æ—Å—Ç—å"},
    {"name": "<b>–î–≤–æ–π–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–ù–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç—É–ø–∏–∫", "reversed": "–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è"},
    {"name": "<b>–¢—Ä–æ–π–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–ë–æ–ª—å —Å–µ—Ä–¥—Ü–∞, –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ", "reversed": "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ, –ø—Ä–æ—â–µ–Ω–∏–µ"},
    {"name": "<b>–ß–µ—Ç–≤—ë—Ä–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–û—Ç–¥—ã—Ö, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", "reversed": "–°—Ç—Ä–µ—Å—Å, –±–µ—Å—Å–æ–Ω–Ω–∏—Ü–∞"},
    {"name": "<b>–ü—è—Ç—ë—Ä–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–ü–æ–±–µ–¥–∞ –ª—é–±–æ–π —Ü–µ–Ω–æ–π, –∫–æ–Ω—Ñ–ª–∏–∫—Ç", "reversed": "–ü—Ä–∏–º–∏—Ä–µ–Ω–∏–µ"},
    {"name": "<b>–®–µ—Å—Ç—ë—Ä–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –ª—É—á—à–µ–º—É", "reversed": "–ó–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–±–ª–µ–º–∞—Ö"},
    {"name": "<b>–°–µ–º—ë—Ä–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–û–±–º–∞–Ω, —Ö–∏—Ç—Ä–æ—Å—Ç—å", "reversed": "–†–∞–∑–æ–±–ª–∞—á–µ–Ω–∏–µ, —á–µ—Å—Ç–Ω–æ—Å—Ç—å"},
    {"name": "<b>–í–æ—Å—å–º—ë—Ä–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–°–∞–º–æ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –ª–æ–≤—É—à–∫–∞", "reversed": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ"},
    {"name": "<b>–î–µ–≤—è—Ç–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–¢—Ä–µ–≤–æ–≥–∞, –∫–æ—à–º–∞—Ä—ã", "reversed": "–û–±–ª–µ–≥—á–µ–Ω–∏–µ, –Ω–∞–¥–µ–∂–¥–∞"},
    {"name": "<b>–î–µ—Å—è—Ç–∫–∞ –ú–µ—á–µ–π</b>", "upright": "–ö–æ–Ω–µ—Ü, –¥–Ω–æ", "reversed": "–í—ã–∑–¥–æ—Ä–æ–≤–ª–µ–Ω–∏–µ, –Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ"},
    {"name": "<b>–ü–∞–∂ –ú–µ—á–µ–π</b>", "upright": "–õ—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ, –æ—Å—Ç—Ä—ã–π —É–º", "reversed": "–°–ø–ª–µ—Ç–Ω–∏, –Ω–µ–∑—Ä–µ–ª–æ—Å—Ç—å"},
    {"name": "<b>–†—ã—Ü–∞—Ä—å –ú–µ—á–µ–π</b>", "upright": "–†–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ñ—Ä–æ–Ω—Ç–∞—Ü–∏—è", "reversed": "–ê–≥—Ä–µ—Å—Å–∏—è, –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å"},
    {"name": "<b>–ö–æ—Ä–æ–ª–µ–≤–∞ –ú–µ—á–µ–π</b>", "upright": "–Ø—Å–Ω–æ—Å—Ç—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å", "reversed": "–ì–æ—Ä–µ—á—å, –∫—Ä–∏—Ç–∏–∫–∞"},
    {"name": "<b>–ö–æ—Ä–æ–ª—å –ú–µ—á–µ–π</b>", "upright": "–õ–æ–≥–∏–∫–∞, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å", "reversed": "–¢–∏—Ä–∞–Ω–∏—è, —Ö–æ–ª–æ–¥–Ω–æ—Å—Ç—å"},

    # –ü–µ–Ω—Ç–∞–∫–ª–∏
    {"name": "<b>–¢—É–∑ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ù–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏–µ", "reversed": "–£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞"},
    {"name": "<b>–î–≤–æ–π–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ë–∞–ª–∞–Ω—Å, –∞–¥–∞–ø—Ç–∞—Ü–∏—è", "reversed": "–î–∏—Å–±–∞–ª–∞–Ω—Å, —Ö–∞–æ—Å"},
    {"name": "<b>–¢—Ä–æ–π–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, –∫–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞", "reversed": "–ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —ç–≥–æ–∏–∑–º"},
    {"name": "<b>–ß–µ—Ç–≤—ë—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ö–æ–Ω—Ç—Ä–æ–ª—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", "reversed": "–ñ–∞–¥–Ω–æ—Å—Ç—å, –∑–∞—Å—Ç–æ–π"},
    {"name": "<b>–ü—è—Ç—ë—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ù—É–∂–¥–∞, –±–µ–¥–Ω–æ—Å—Ç—å", "reversed": "–ü–æ–º–æ—â—å, —É–ª—É—á—à–µ–Ω–∏–µ"},
    {"name": "<b>–®–µ—Å—Ç—ë—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–©–µ–¥—Ä–æ—Å—Ç—å, –±–∞–ª–∞–Ω—Å –¥–∞–≤–∞–Ω–∏—è", "reversed": "–ù–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ, —ç–≥–æ–∏–∑–º"},
    {"name": "<b>–°–µ–º—ë—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–û–∂–∏–¥–∞–Ω–∏–µ —É—Ä–æ–∂–∞—è, –æ—Ü–µ–Ω–∫–∞", "reversed": "–ù–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ, –±–µ—Å–ø–ª–æ–¥–Ω—ã–µ —É—Å–∏–ª–∏—è"},
    {"name": "<b>–í–æ—Å—å–º—ë—Ä–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–¢—Ä—É–¥, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ", "reversed": "–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏–∑–º, –≤—ã–≥–æ—Ä–∞–Ω–∏–µ"},
    {"name": "<b>–î–µ–≤—è—Ç–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —Ä–æ—Å–∫–æ—à—å", "reversed": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ"},
    {"name": "<b>–î–µ—Å—è—Ç–∫–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–°–µ–º–µ–π–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", "reversed": "–°–µ–º–µ–π–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Ç–µ—Ä—è"},
    {"name": "<b>–ü–∞–∂ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–£—á—ë–±–∞, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "reversed": "–õ–µ–Ω—å, —Ä–∞—Å—Ç–æ—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ"},
    {"name": "<b>–†—ã—Ü–∞—Ä—å –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å, —É–ø–æ—Ä—Å—Ç–≤–æ", "reversed": "–ó–∞—Å—Ç–æ–π, —Ä—É—Ç–∏–Ω–∞"},
    {"name": "<b>–ö–æ—Ä–æ–ª–µ–≤–∞ –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–ó–∞–±–æ—Ç–∞ –æ –¥–æ–º–µ, –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å", "reversed": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ—Å—Ç—å"},
    {"name": "<b>–ö–æ—Ä–æ–ª—å –ü–µ–Ω—Ç–∞–∫–ª–µ–π</b>", "upright": "–£—Å–ø–µ—Ö –≤ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", "reversed": "–ñ–∞–¥–Ω–æ—Å—Ç—å, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–º"}

]

def get_main_keyboard():
    markup = ReplyKeyboardMarkup(resize_keyboard=True, one_time_keyboard=True, row_width=2)
    markup.add(KeyboardButton("–†–∞—Å–∫–ª–∞–¥ –ø–æ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–µ"))
    markup.add(KeyboardButton("–†–∞—Å–∫–ª–∞–¥ –ø–æ —Ç—Ä—ë–º –∫–∞—Ä—Ç–∞–º"))
    markup.add(KeyboardButton("–ò–Ω–¥–∏–≤–∏–¥—É–ª—å–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥(350 —Ä—É–±–ª–µ–π)"))
    return markup

# –û–±–Ω–æ–≤–∏ start
@bot.message_handler(commands=['start'])
def start(message):
    user_id = message.from_user.id
    today = date.today()
    
    markup = get_main_keyboard()
    
    if user_id not in user_last_day or user_last_day[user_id] != today:
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É –¥–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        card = get_random_card()
        intro = random.choice([
            "‚ú® –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –í–æ—Ç —Ç–≤–æ—è –∫–∞—Ä—Ç–∞ –¥–Ω—è:",
            "üåü –ü—Ä–∏–≤–µ—Ç! –ö–∞—Ä—Ç–∞ –¥–Ω—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:"
        ])
        card_text = get_random_card()
        bot.send_message(message.chat.id,
                         f"{intro}\n\n{card}\n\n–•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è! üåû",
                         parse_mode='HTML')
        user_last_day[user_id] = today
    
    bot.reply_to(message,
                 "–Ø —Ç–≤–æ–π –ª—é–±–∏–º—ã–π –¢–∞—Ä–æ-–±–æ—Ç üåô\n\n–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∏–∂–µ:",
                 reply_markup=markup)
    
def get_random_card():
    card = random.choice(cards)  # cards ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π
    
    if random.random() < 0.5:
        orientation = " (–ø–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç–∞—è)"
        meaning = card["reversed"]
    else:
        orientation = ""
        meaning = card["upright"]
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π —Ç–µ–∫—Å—Ç
    full_text = f'{card["name"]}{orientation}\n{meaning}'
    
    return full_text
    
# –ß—Ç–æ–±—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ—è–≤–ª—è–ª–∞—Å—å –∏ –ø–æ—Å–ª–µ —Ä–∞—Å–∫–ª–∞–¥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
@bot.message_handler(commands=['card'])
def one_card(message):
    card_text = get_random_card()
    response_text = f"‚ú® –í—ã–ø–∞–ª–∞ –∫–∞—Ä—Ç–∞:\n\n{card_text}"
    bot.reply_to(message, response_text, parse_mode='HTML', reply_markup=get_main_keyboard())

@bot.message_handler(commands=['three'])
def three_cards(message):
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–∞—Ä—Ç—ã
    cards_drawn = [get_random_card() for _ in range(3)]
    past, present, future = cards_drawn   # —Ç–µ–ø–µ—Ä—å —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–ø–∏—Å–æ–∫ –∏–∑ 3 —Å—Ç—Ä–æ–∫
    
    text = (
        f"–ü—Ä–æ—à–ª–æ–µ: {past}\n"
        "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n"
        f"–ù–∞—Å—Ç–æ—è—â–µ–µ: {present}\n"
        "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n"
        f"–ë—É–¥—É—â–µ–µ: {future}"
    )
    bot.reply_to(message, text, parse_mode='HTML', reply_markup=get_main_keyboard())

@bot.message_handler(func=lambda message: message.text in ["–†–∞—Å–∫–ª–∞–¥ –ø–æ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–µ", "–†–∞—Å–∫–ª–∞–¥ –ø–æ —Ç—Ä—ë–º –∫–∞—Ä—Ç–∞–º", "–ò–Ω–¥–∏–≤–∏–¥—É–ª—å–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥(350 —Ä—É–±–ª–µ–π)"])
def handle_keyboard_buttons(message):
    if message.text == "–†–∞—Å–∫–ª–∞–¥ –ø–æ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–µ":
        one_card(message)          # —Ç–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–¥–Ω–æ–π –∫–∞—Ä—Ç—ã
    elif message.text == "–†–∞—Å–∫–ª–∞–¥ –ø–æ —Ç—Ä—ë–º –∫–∞—Ä—Ç–∞–º":
        three_cards(message)   # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–æ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏
    elif message.text == "–ò–Ω–¥–∏–≤–∏–¥—É–ª—å–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥(350 —Ä—É–±–ª–µ–π)":
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ç–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
        your_username = "@ytiskd"          # ‚Üê –∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π @username (–Ω–∞–ø—Ä–∏–º–µ—Ä @AlexanderRiga –∏–ª–∏ —á—Ç–æ —É —Ç–µ–±—è)
        profile_link_text = f"–í–æ—Ç –º–æ–π –ø—Ä–æ—Ñ–∏–ª—å: {your_username}\n–ù–∞–∂–º–∏ –Ω–∞ –Ω–∏–∫–Ω–µ–π–º ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —á–∞—Ç —Å–æ –º–Ω–æ–π üòä"
        bot.reply_to(message, profile_link_text, reply_markup=get_main_keyboard())

def send_daily_card_to_all():
    today = date.today().isoformat()  # —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–¥–∏–Ω –¥–µ–Ω—å
    
    # –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–∑ user_last_day, –∏–ª–∏ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫)
    for user_id in list(user_last_day.keys()):  # –∫–æ–ø–∏—Ä—É–µ–º, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
        try:
            card_text = get_random_card()
            intro = random.choice([
                "‚ú® –ü–æ–ª–Ω–æ—á—å! –ù–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –¥–Ω—è –¥–ª—è —Ç–µ–±—è:",
                "üåô 00:00 ‚Äî –≤–æ—Ç —Ç–≤–æ—ë –ø–æ—Å–ª–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:",
                "üîÆ –ö–∞—Ä—Ç–∞ –¥–Ω—è –æ–±–Ω–æ–≤–∏–ª–∞—Å—å:"
            ])
            bot.send_message(
                user_id,
                f"{intro}\n\n{card_text}\n\n–•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è! üåø",
                parse_mode='HTML'
            )
            print(f"–ö–∞—Ä—Ç–∞ –¥–Ω—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id}")
        except Exception as e:
            print(f"–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –¥–Ω—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id}: {e}")
            # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –±–æ—Ç–∞ ‚Äî –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –µ–≥–æ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
            if "blocked" in str(e) or "forbidden" in str(e):
                del user_last_day[user_id]

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
def run_scheduler():
    schedule.every().day.at("00:00").do(send_daily_card_to_all)  # ‚Üê –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM (–ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞!)
    
    while True:
        schedule.run_pending()
        time.sleep(60)  # –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤ —Ñ–æ–Ω–µ
scheduler_thread = threading.Thread(target=run_scheduler, daemon=True)
scheduler_thread.start()
print("–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∫–∞—Ä—Ç—ã –¥–Ω—è –∑–∞–ø—É—â–µ–Ω (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:00 –ø–æ –º—Å–∫)")

print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
bot.infinity_polling()